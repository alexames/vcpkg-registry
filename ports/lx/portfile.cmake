vcpkg_from_github(
  OUT_SOURCE_PATH SOURCE_PATH
  REPO alexames/lua
  REF d18cc96747a642fcebf6632330fcba11d4c14dd9
  SHA512 02a36ce55236a2c2d467eb730704e6391717a35f78fc443ac42a1280bd026f8364c3de3b93e5ef97c4fdaee9de6f4d9924c262737a9fed0c9a740581a192288a
  HEAD_REF d18cc96747a642fcebf6632330fcba11d4c14dd9
)

vcpkg_configure_cmake(
  SOURCE_PATH "${SOURCE_PATH}"
  PREFER_NINJA
  OPTIONS
    -DLUA_BUILD_TESTS=FALSE
    -DLUA_PROJECT_NAME=lx
)
vcpkg_install_cmake()
vcpkg_fixup_cmake_targets(CONFIG_PATH lib/cmake/${PORT})

file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug/include")

file(
  INSTALL "${SOURCE_PATH}/LICENSE"
  DESTINATION "${CURRENT_PACKAGES_DIR}/share/${PORT}"
  RENAME copyright)
